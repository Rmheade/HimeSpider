<div class="shop" ng-if="zm.sidePanels.shop">
<div class="shop-title">
<h2>Shop</h2>
<button ng-click="zm.closeSidePanels();">Close</button>
</div>
<div class="tabs">
<button class="blood {{zm.currentShopFilter == 'blood' ? 'active' : ''}}" ng-click="zm.filterShop('blood');">Blood</button>
<button class="brains {{zm.currentShopFilter == 'brains' ? 'active' : ''}}" ng-click="zm.filterShop('brains');">Brains</button>
<button class="bones {{zm.currentShopFilter == 'bones' ? 'active' : ''}}" ng-click="zm.filterShop('bones');" ng-if="zm.model.constructions.graveyard">Bones</button>
<button class="parts {{zm.currentShopFilter == 'parts' ? 'active' : ''}}" ng-click="zm.filterShop('parts');" ng-if="zm.model.constructions.monsterFactory">Parts</button>
<button class="bones {{zm.currentShopFilter == 'completed' ? 'active' : ''}}" ng-click="zm.filterShop('completed');">Complete</button>
</div>
<div class="upgrades">
<div class="upgrade {{upgrade.costType}}" ng-repeat="upgrade in zm.upgrades">
<h4>{{upgrade.name}}</h4>
<h4 class="cost">{{zm.upgradePrice(upgrade)|whole}} {{upgrade.costType}}</h4>
<label>{{zm.upgradeSubtitle(upgrade)}}</label>
<button ng-click="zm.buyUpgrade(upgrade);" ng-disabled="zm.upgradeTooExpensive(upgrade);">{{zm.upgradeButtonText(upgrade)}}
        <span class="percent" ng-style="{'width':zm.upgradePercent(upgrade) + '%'}"></span>
</button>
<button class="info {{upgrade.selected ? 'active' : ''}}" ng-click="upgrade.selected = !upgrade.selected">i</button>
<button class="info {{upgrade.auto ? 'active' : ''}}" ng-click="upgrade.auto = !upgrade.auto" ng-if="zm.currentShopFilter != 'completed' &amp;&amp; zm.model.autoUpgrades">{{upgrade.auto ? 'On' : 'Auto'}}</button>
<button ng-click="zm.destroyUpgrade(upgrade)" ng-if="zm.currentShopFilter == 'completed' &amp;&amp; zm.currentRank(upgrade) &gt; 1">Destroy</button>
<p ng-show="upgrade.selected">{{upgrade.description}}</p>
<p ng-show="upgrade.selected">Current Rank: {{zm.currentRank(upgrade)}}{{upgrade.cap != 0 ? ' / ' + upgrade.cap : ''}} - {{zm.upgradeStatInfo(upgrade)}}</p>
</div>
</div>
</div>